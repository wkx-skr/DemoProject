## 思路

通过对不同主题引入不同的 css 文件, 修改主题时, 清空旧 css 样式, 引入新样式。 同时改变 css 全局变量。

困难在 清空旧 css，因为 css 全局生效，要清空旧 css，要么移除全部旧 css 文件，要么 覆盖全部 css 设置。动态修改主题时，这两个都难以实现。因为 vue 中 css 散落在各个文件。所以，最终只能是每个主题生成一套 css 文件，再根据主题，动态将 css 文件引入动态生成的 style 标签，当修改主题时，清除旧标签内容，更新新的 css 文件。但是这只能修改 element-ui 默认的样式，vue 文件中的 css 样式还是不能修改，这个就只能依靠 css 全局变量，通过 js 设置全局变量修改颜色了。

## 具体实现

-  使用 element-ui 线上自动生成主题工具, 对每一个主题 生成一套 css 文件，
-  创建 修改主题的 vue 组件，并引入，后面的 js 操作可以都放到这个文件中，
-  使用 js, 动态创建 style 标签，
-  根据主题, 判断需要引入的css 文件, 将 css 文件引入, 填入 动态生成的 style 标签，
-  当改变主题时, 清空 style 标签, 引入新 css 内容，
-  为每一个主题，创建一套 css 全局变量，
-  在修改主题时，修改 css 全局变量，改变颜色，
-  其他根据主题，需要修改的内容，例如背景图片等，可以通过 $bus 发送全局事件 或者 vue store 的变量监听，在对应的 vue 文件中进行修改。

## 注意

- 动态生成的 style 标签，必须放到其他 css 前面，作为默认样式，可以轻易被覆盖掉，而不能影响原本的其他 css 样式，因为原本文件中的 css 样式就是为了覆盖 element-ui 默认的样式的。

## 其他思路

-  使用 element-ui 的 scss 全局变量
     -  这个的好处是，虽然只给出了一部分全局变量，但是很多其他全局变量是根据 给出的全局变量自动生成的，修改起来比使用线上工具效果更好，
     -  同时，因为使用了 scss 的全局变量，在 vue 文件里也可以直接使用这些 scss 变量，
     -  问题是，scss 的全局变量是在处理成 css 时，值就固定了，这意味着，没有办法通过 js 动态修改，除非使用 css 变量，将 scss 变量赋值为 css 变量，但是问题是，element-ui 中的 scss 变量并不止是一个颜色字符串，还会根据这个值生成其他相近的颜色，而对 css 变量进行处理时，就会报错，因为 css 变量在被 element-ui 处理时，是作为变量 而不是颜色值。
     -  这意味着，如果使用 scss 变量，使用的主题在打包时就已经确定，如果希望使用多个主题，只能在打包时，引入不同的 scss 文件，设置不同的 scss 变量，而不能动态的利用 js 修改主题。
-  引入多个 css 文件, 在外层包裹条件, 根据条件判断 哪个文件生效
    -  在根元素上添加一个动态的属性，通过 js 动态调整
    -  例如在 html 元素上增加一个类名，根据类名，判断生效的 css，
    -  让需要修改的 css，在外层包裹上这个动态的属性，当利用 js 修改这个属性时，会动态切换生效的 css。
    -  这个方法的问题是，element-ui 的默认 css 没有办法在最外层添加 判断条件，或者比较麻烦。
-  仅修改主题色，当选定主题色后，通过 js 生成其他相近的颜色，然后遍历 element-ui 生成的 css 文件，将原本的颜色，切换为新的颜色，同时更新动态 style 标签里的 css 文本
    -  这个方式适合仅修改主题色，例如将主题色从 蓝色 变为 红色 或者 绿色
    -  不用每一个主题都配置自己的 css，可以让用户自动选择任意主题色，
    -  不能更详细的自定义具体页面的主题颜色
